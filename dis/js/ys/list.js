"use strict";$(function(){function t(){600<=window.scrollY?$("#toTop").css("display","block"):$("#toTop").css("display","none")}t(),window.onscroll=function(){t()},$("#toTop").click(function(){var t=window.scrollY;clearInterval(a);var a=setInterval(function(){(t-=32)<0?clearInterval(a):window.scrollTo(0,t)})});var a=Cookie.get("name");a&&($(".reg_r li:first").html('<a href="JavaScript:;">\n            '+a+"\n        </a>"),$(".reg_r li:first a").css({padding:"0px","line-height":"25px",border:"none","box-shadow":" 0 0 0"}),$(".reg_r li:eq(1)").html('<a href="JavaScript:;" id="outLogin">\n            [退出]\n        </a>')),$("#outLogin").click(function(){var t=new Date;t.setDate(t.getDate()-7),Cookie.set("name","",{expires:t,path:"/"}),location.reload()}),$(".reg_r li").hover(function(){$(this).find("ul").css({display:"block"})},function(){$(this).find("ul").css("display","none")}),$(".nav_l").find("li").hover(function(){$(this).find(".classify").css("display","block"),$(this).find(".classify").animate({opacity:1},500)},function(){$(this).find(".classify").css("display","none")}),$.ajax({type:"get",url:"../api/shop_car.php",async:!0,data:{way:"sum"},success:function(t){$(".logo_r a b").html(t)}}),$(".search_lt ul li>em").attr("data-isok","true"),$(".search_lt ul li>em").click(function(){"true"==$(this).attr("data-isok")?($(this).parent().find("dl").css("display","block"),$(this).next().css("text-decoration","underline"),$(this).css("background","url(../img/banggo_jn.png) no-repeat 0px -90px"),$(this).attr("data-isok","false")):($(this).parent().find("dl").css("display","none"),$(this).next().css("text-decoration","none"),$(this).css("background","url(../img/banggo_jn.png) no-repeat -9px -90px"),$(this).attr("data-isok","true"))}),$(".search_lt ul li dl dt em").attr("data-isok","true"),$(".search_lt ul li dl dt em").click(function(){"true"==$(this).attr("data-isok")?($(this).parent().siblings().css("display","block"),$(this).next().css({"text-decoration":"underline",color:"#000"}),$(this).css("background","url(../img/banggo_jn.png) no-repeat -17px -90px"),$(this).attr("data-isok","false")):($(this).parent().siblings().css("display","none"),$(this).next().css({"text-decoration":"none",color:"#999"}),$(this).css("background","url(../img/banggo_jn.png) no-repeat -25px -90px"),$(this).attr("data-isok","true"))});var s=!0;$(".searchItem .searchMore").click(function(){s?($(this).parent().css("height","auto"),$(this).html("收起"),$(this).css("background","url(../img/banggo_jn.png) no-repeat 33px -230px")):($(this).parent().css("height","18px"),$(this).html("更多"),$(this).css("background","url(../img/banggo_jn.png) no-repeat 33px -255px")),s=!s}),$(".seach_Box .occasion,.series,.colors").hover(function(){$(this).find("em").css("display","block"),$(this).find(".option").css("display","block")},function(){$(this).find("em").css("display","none"),$(this).find(".option").css("display","none")}),$(".pdList").on("mouseover",".good_litimg a",function(){var t=$(this).index();$(this).css("border-color","red"),$(this).parent().parent().find(".goods_img_box a").html('<img src="../img/list_1'+(t+1)+'.jpg" />')}),$(".pdList").on("mouseleave",".good_litimg a",function(){$(this).css("border-color","#ccc"),$(this).parent().parent().find(".goods_img_box a").html('<img src="../img/list_1.jpg" />')}),$(".pdList").on("mouseover",".cont_buttom span",function(){$(this).animate({opacity:.7})}),$(".pdList").on("mouseleave",".cont_buttom span",function(){$(this).animate({opacity:1})});var o=1,n=0,e=Cookie.get("way"),l=Cookie.get("key");function c(t){for(var a="",s=t.qty,i=t.datalist,e=0;e<s;e++)a+="<li data-id="+i[e].id+'>\n                        <div class="goods_img_box">\n                            <a href="javascript:;">\n                                <img src="'+i[e].imgs+'" />\n                            </a>\n                        </div>\n                        <div class="brand_name">\n                            <a href="javascript:;">'+i[e].brand_name+"</a>\n                            <span><i>"+i[e].zk+'</i>折</span>\n                        </div>\n                        <div class="good_name">\n                            <a href="javascript:;">'+i[e].good_name+'</a>\n                        </div>\n                        <div class="good_price">\n                            <b>￥'+i[e].price+"</b>\n                            <i><del>￥"+i[e].pricenow+'</del></i>\n                        </div>\n                        <div class="good_litimg">\n                            <a href="javascript:;"><img src="'+i[e].litimg1+'" alt="" /></a>\n                            <a href="javascript:;"><img src="'+i[e].litimg2+'" alt="" /></a>\n                        </div>\n                    </li>';return function(){1!=o?$(".home,.s1").css("visibility","visible"):$(".home,.s1").css("visibility","hidden");o!=n?$(".end,.next").css("visibility","visible"):$(".end,.next").css("visibility","hidden")}(),a}function i(){e=Cookie.get("way"),l=Cookie.get("key"),e?$.ajax({type:"get",url:"../api/sort.php",async:!0,data:{way:e,key:l,page:o},success:function(t){var a=JSON.parse(t);$(".pdList .goodlist").html(c(a))}}):$.ajax({type:"get",url:"../api/find.php",async:!0,data:{page:o,qty:8},success:function(t){var a=JSON.parse(t);$(".pdList .goodlist").html(c(a))}})}e?$.ajax({type:"get",url:"../api/sort.php",async:!0,data:{way:e,key:l,page:1},success:function(t){var a=JSON.parse(t);$(".pdList .goodlist").html(c(a));var s="";n=a.pages;for(var i=0;i<n;i++)s+="<span>"+(i+1)+"</span>";$(".cont_buttom .s1").after(s),$(".cont_buttom span").eq(0).addClass("active"),"zk"==l?"asc"==e?$(".pdFilter_l a").eq(3).addClass("down"):$(".pdFilter_l a").eq(3).addClass("up2"):"asc"==e?$(".pdFilter_l a").eq(4).addClass("down"):$(".pdFilter_l a").eq(4).addClass("up2")}}):$.ajax({type:"get",url:"../api/find.php",async:!0,data:{page:1,qty:8},success:function(t){var a=JSON.parse(t);$(".pdList .goodlist").html(c(a));var s="";n=a.pages;for(var i=0;i<n;i++)s+="<span>"+(i+1)+"</span>";$(".cont_buttom .s1").after(s),$(".cont_buttom span").eq(0).addClass("active")}}),$(".pdList").on("click",".cont_buttom span",function(){$(".cont_buttom span").removeClass("active"),$(this).addClass("active"),o=$(this).html(),console.log(o),e=Cookie.get("way"),l=Cookie.get("key"),e?$.ajax({type:"get",url:"../api/sort.php",async:!0,data:{way:e,key:l,page:o},success:function(t){var a=JSON.parse(t);$(".pdList .goodlist").html(c(a))}}):$.ajax({type:"get",url:"../api/find.php",async:!0,data:{page:o,qty:8},success:function(t){var a=JSON.parse(t);$(".pdList .goodlist").html(c(a))}})}),$(".home").click(function(){o=1,$(".cont_buttom span").removeClass("active"),$(".cont_buttom span:first").addClass("active"),i()}),$(".end").click(function(){o=n,$(".cont_buttom span").removeClass("active"),$(".cont_buttom span:last").addClass("active"),i()}),$(".s1").click(function(){--o<=1&&(o=1),$(".cont_buttom span").removeClass("active"),$(".cont_buttom span").eq(o-1).addClass("active"),i()}),$(".next").click(function(){n<=++o&&(o=n),$(".cont_buttom span").removeClass("active"),$(".cont_buttom span").eq(o-1).addClass("active"),i()}),$(".pdFilter_l a:eq(0)").click(function(){$(".pdFilter_l a").removeClass("active"),$(".pdFilter_l a").removeClass("up1"),$(".pdFilter_l a").removeClass("up2"),$(".pdFilter_l a").removeClass("down"),$(this).addClass("active");var t=new Date;t.setDate(t.getDate()-2),Cookie.set("way","no",{expires:t,path:"/"}),$.ajax({type:"get",url:"../api/find.php",async:!0,data:{page:1,qty:8},success:function(t){var a=JSON.parse(t);$(".pdList .goodlist").html(c(a))}})}),$(".pdFilter_l a:eq(1)").click(function(){$(".pdFilter_l a").removeClass("active"),$(".pdFilter_l a").removeClass("up1"),$(".pdFilter_l a").removeClass("up2"),$(".pdFilter_l a").removeClass("down"),$(this).addClass("up1")}),$(".pdFilter_l a:eq(2)").click(function(){$(".pdFilter_l a").removeClass("active"),$(".pdFilter_l a").removeClass("up1"),$(".pdFilter_l a").removeClass("up2"),$(".pdFilter_l a").removeClass("down"),$(this).addClass("up1")}),$(".pdFilter_l a:eq(3)").attr("data-isok","true"),$(".pdFilter_l a:eq(3)").click(function(){$(".pdFilter_l a").removeClass("active"),$(".pdFilter_l a").removeClass("up1"),$(".pdFilter_l a").removeClass("up2"),$(".pdFilter_l a").removeClass("down"),"true"==$(this).attr("data-isok")?($(this).addClass("up2"),Cookie.set("way","desc",{path:"/"}),Cookie.set("key","zk",{path:"/"}),$.ajax({type:"get",url:"../api/sort.php",async:!0,data:{way:"desc",key:"zk"},success:function(t){var a=JSON.parse(t);$(".pdList .goodlist").html(c(a))}}),$(this).attr("data-isok","false")):($(this).addClass("down"),Cookie.set("way","asc",{path:"/"}),Cookie.set("key","zk",{path:"/"}),$.ajax({type:"get",url:"../api/sort.php",async:!0,data:{way:"asc",key:"zk"},success:function(t){var a=JSON.parse(t);$(".pdList .goodlist").html(c(a))}}),$(this).attr("data-isok","true"))}),$(".pdFilter_l a:eq(4)").attr("data-isok","true"),$(".pdFilter_l a:eq(4)").click(function(){$(".pdFilter_l a").removeClass("active"),$(".pdFilter_l a").removeClass("up1"),$(".pdFilter_l a").removeClass("up2"),$(".pdFilter_l a").removeClass("down"),"true"==$(this).attr("data-isok")?($(this).addClass("up2"),Cookie.set("way","desc",{path:"/"}),Cookie.set("key","price",{path:"/"}),$.ajax({type:"get",url:"../api/sort.php",async:!0,data:{way:"desc",key:"price"},success:function(t){var a=JSON.parse(t);$(".pdList .goodlist").html(c(a))}}),$(this).attr("data-isok","false")):($(this).addClass("down"),Cookie.set("way","asc",{path:"/"}),Cookie.set("key","price",{path:"/"}),$.ajax({type:"get",url:"../api/sort.php",async:!0,data:{way:"asc",key:"price"},success:function(t){var a=JSON.parse(t);$(".pdList .goodlist").html(c(a))}}),$(this).attr("data-isok","true"))}),$(".goodlist").on("click",".goods_img_box img",function(){var t=$(this).parent().parent().parent().attr("data-id");window.open("goods.html?id="+t)}),$(".goodlist").on("click",".good_name a",function(){var t=$(this).parent().parent().attr("data-id");window.open("goods.html?id="+t)})});